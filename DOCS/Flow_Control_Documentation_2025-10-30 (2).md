# Flow Control - ×ª×™×¢×•×“ ××¢×¨×›×ª ××œ×

**×ª××¨×™×š ×™×¦×™×¨×”:** 30.10.2025

**×¡×”"×› ××¡××›×™×:** 52

---

## ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

### ×¡×˜× ×“×¨×˜×™× ×¢×™×¦×•×‘×™×™× (1 ××¡××›×™×)
- ×¡×˜× ×“×¨×˜×™× ×¢×™×¦×•×‘×™×™×

### ×ª×‘× ×™×•×ª ××¡×›×™× (2 ××¡××›×™×)
- ×ª×‘× ×™×ª: ××¡×š ×¢×¨×™×›×”
- ×ª×‘× ×™×ª: ××¡×š ×¢× ×˜×‘×œ×”

### ×§×˜×œ×•×’ ××¡×›×™× (16 ××¡××›×™×)
- ××¡×š: Reports
- ××¡×š: QualityAssurance
- ××¡×š: EditReagentBatch
- ××¡×š: BatchAndExpiryManagement
- ××¡×š: EditShipment
- ××¡×š: OutgoingShipments
- ××¡×š: EditWithdrawalRequest
- ××¡×š: WithdrawalRequests
- ××¡×š: EditOrder
- ××¡×š: NewOrder
- ××¡×š: Orders
- ××¡×š: EditDelivery
- ××¡×š: NewDelivery
- ××¡×š: ManageReagents
- ××¡×š: InventoryCount
- ××¡×š: Dashboard

### ×¤×•× ×§×¦×™×•×ª ×©×¨×ª (24 ××¡××›×™×)
- ×¤×•× ×§×¦×™×”: deleteReagent
- ×¤×•× ×§×¦×™×”: deleteWithdrawal
- ×¤×•× ×§×¦×™×”: deleteShipment
- ×¤×•× ×§×¦×™×”: manageCOA
- ×¤×•× ×§×¦×™×”: generateReports
- ×¤×•× ×§×¦×™×”: archiveOldData
- ×¤×•× ×§×¦×™×”: alertsManager
- ×¤×•× ×§×¦×™×”: alertsEngine
- ×¤×•× ×§×¦×™×”: calculateReplenishment
- ×¤×•× ×§×¦×™×”: getSupplyTrackingData
- ×¤×•× ×§×¦×™×”: getEditShipmentData
- ×¤×•× ×§×¦×™×”: getOutgoingShipmentsData
- ×¤×•× ×§×¦×™×”: getEditWithdrawalData
- ×¤×•× ×§×¦×™×”: getWithdrawalRequestsData
- ×¤×•× ×§×¦×™×”: getEditOrderData
- ×¤×•× ×§×¦×™×”: getOrdersData
- ×¤×•× ×§×¦×™×”: getEditDeliveryData
- ×¤×•× ×§×¦×™×”: getNewDeliveryPageData
- ×¤×•× ×§×¦×™×”: getBatchAndExpiryData
- ×¤×•× ×§×¦×™×”: getManageReagentsData
- ×¤×•× ×§×¦×™×”: runSummaryUpdates
- ×¤×•× ×§×¦×™×”: updateReagentInventory
- ×¤×•× ×§×¦×™×”: processCompletedCount
- ×¤×•× ×§×¦×™×”: getDashboardData

### ×ª×”×œ×™×›×™ ×¢×‘×•×“×” (6 ××¡××›×™×)
- ×ª×”×œ×™×š ××©×œ×•×— ×™×•×¦×
- ×ª×”×œ×™×š × ×™×”×•×œ ×¤×’×™ ×ª×•×§×£
- ×ª×”×œ×™×š ×‘×§×©×ª ××©×™×›×” ×××¡×’×¨×ª
- ×ª×”×œ×™×š ×™×¦×™×¨×ª ×“×¨×™×©×ª ×¨×›×©
- ×ª×”×œ×™×š ×¡×¤×™×¨×ª ××œ××™
- ×ª×”×œ×™×š ×§×œ×™×˜×ª ××©×œ×•×—

### ×ª×™×¢×•×“ ×˜×›× ×™ (3 ××¡××›×™×)
- × ×™×”×•×œ State ×•-Caching
- ×–×¨×™××ª × ×ª×•× ×™× ×‘××¢×¨×›×ª
- ×¡×§×™×¨×ª ××¨×›×™×˜×§×˜×•×¨×”

---



# ğŸ“‚ ×¡×˜× ×“×¨×˜×™× ×¢×™×¦×•×‘×™×™×

---

# ğŸ¨ ×¡×˜× ×“×¨×˜×™× ×¢×™×¦×•×‘×™×™× - Flow Control

## ×¤×œ×˜×ª ×¦×‘×¢×™×

### ×¦×‘×¢×™× ×¨××©×™×™×
- **Primary Action:** #F59E0B (Amber-500)
- **Hover/Active:** #D97706 (Amber-600)
- **Primary Light:** #FBBF24 (Amber-400)

### ×¦×‘×¢×™ ×¡×˜×˜×•×¡
- **Success:** #16A34A (Green-600)
- **Error/Danger:** #DC2626 (Red-600)
- **Warning:** #F59E0B (Amber-500)
- **Info:** #3B82F6 (Blue-500)

### ×¦×‘×¢×™× × ×™×˜×¨×œ×™×™×
- Slate-50 (#F8FAFC) - ×¨×§×¢×™× ×‘×”×™×¨×™×
- Slate-100 (#F1F5F9) - ×¨×§×¢×™× ××©× ×™×™×
- Slate-200 (#E2E8F0) - ×’×‘×•×œ×•×ª
- Slate-600 (#475569) - ×˜×§×¡×˜ ××©× ×™
- Slate-800 (#1E293B) - ×˜×§×¡×˜ ×¨××©×™

## ×˜×™×¤×•×’×¨×¤×™×”

### Headings
- **H1:** text-3xl (30px), font-bold
- **H2:** text-2xl (24px), font-semibold
- **H3:** text-xl (20px), font-semibold
- **H4:** text-lg (18px), font-medium

### Body Text
- **Normal:** text-sm (14px)
- **Large:** text-base (16px)
- **Small:** text-xs (12px)

## Spacing System

### Padding
- **xs:** p-1 (4px)
- **sm:** p-2 (8px)
- **md:** p-4 (16px)
- **lg:** p-6 (24px)
- **xl:** p-8 (32px)

### Margin
- **Between cards:** space-y-4 (16px)
- **Between sections:** space-y-6 (24px)
- **Between groups:** space-y-8 (32px)

## Components Design

### Cards
```jsx
<Card className="bg-white shadow-sm border border-gray-200 rounded-lg">
  <CardHeader className="py-3 px-4">
    <CardTitle>×›×•×ª×¨×ª</CardTitle>
  </CardHeader>
  <CardContent className="px-4 pb-4">
    ...
  </CardContent>
</Card>
```

### Buttons
```jsx
// Primary
<Button className="bg-amber-500 hover:bg-amber-600 text-white">
  ×¤×¢×•×œ×” ×¨××©×™×ª
</Button>

// Secondary
<Button variant="outline">
  ×¤×¢×•×œ×” ××©× ×™×ª
</Button>

// Danger
<Button className="bg-red-600 hover:bg-red-700 text-white">
  ××—×§
</Button>
```

### Tables
- **Sticky Headers:** `sticky top-0 z-20 bg-gray-100`
- **Rows:** `hover:bg-gray-50 transition-colors`
- **Borders:** `border-b border-gray-200`

## Responsive Breakpoints

- **Mobile:** < 640px
- **Tablet:** 640px - 1024px
- **Desktop:** > 1024px

### Mobile Design Rules
1. Stack vertically (flex-col)
2. Full-width buttons
3. Cards instead of tables
4. Collapsible sections
5. Touch-friendly (min 44px height)

## RTL Support

- **All pages:** `dir="rtl"`
- **Text align:** `text-right` by default
- **Icons:** Always on the right of text
- **Margins:** Use `mr-` for right, `ml-` for left

## Animation Standards

- **Transitions:** `transition-all duration-200`
- **Hover:** `hover:scale-105`
- **Loading:** `animate-spin` or `animate-pulse`


---



# ğŸ“‚ ×ª×‘× ×™×•×ª ××¡×›×™×

---

# âœï¸ ×ª×‘× ×™×ª: ××¡×š ×¢×¨×™×›×”

## ××‘× ×” ×›×œ×œ×™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                                   â”‚
â”‚  - BackButton                            â”‚
â”‚  - Title (×¢× ××¡×¤×¨/ID)                    â”‚
â”‚  - Action Buttons (Save, Delete, Print)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Main Content (2-column grid)             â”‚
â”‚                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Left Column      â”‚ â”‚ Right Column   â”‚ â”‚
â”‚ â”‚ - Basic Info     â”‚ â”‚ - Linked Items â”‚ â”‚
â”‚ â”‚ - Details        â”‚ â”‚ - Status       â”‚ â”‚
â”‚ â”‚ - Notes          â”‚ â”‚ - Metadata     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ×§×•×“ ×œ×“×•×’××”

```jsx
export default function EditScreen() {
  const [searchParams] = useSearchParams();
  const id = searchParams.get('id');
  const [item, setItem] = useState(null);
  const [linkedData, setLinkedData] = useState({});

  useEffect(() => {
    loadData();
  }, [id]);

  const loadData = async () => {
    const response = await base44.functions.invoke('getEdit...Data', { id });
    setItem(response.data.item);
    setLinkedData(response.data.linked);
  };

  const handleSave = async () => {
    await base44.entities.Entity.update(id, item);
    toast.success('× ×©××¨ ×‘×”×¦×œ×—×”');
  };

  return (
    <div className="p-6" dir="rtl">
      {/* Header */}
      <div className="flex items-center justify-between mb-6">
        <BackButton />
        <h1>×¢×¨×™×›×ª ×¤×¨×™×˜: {item?.number}</h1>
        <div className="flex gap-2">
          <Button onClick={handleSave}>×©××•×¨</Button>
          <Button onClick={handleDelete} variant="destructive">××—×§</Button>
        </div>
      </div>

      <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
        {/* Main Info */}
        <div className="lg:col-span-2 space-y-4">
          <Card>
            <CardHeader><CardTitle>×¤×¨×˜×™× ×‘×¡×™×¡×™×™×</CardTitle></CardHeader>
            <CardContent>...</CardContent>
          </Card>
        </div>

        {/* Sidebar - Linked Items */}
        <div className="space-y-4">
          {linkedData.order && (
            <Card className="border-amber-200 bg-amber-50">
              <CardContent className="p-4">
                <Label>×”×–×× ×” ××§×•×©×¨×ª</Label>
                <Link to={`/EditOrder?id=${linkedData.order.id}`}>
                  {linkedData.order.number}
                </Link>
              </CardContent>
            </Card>
          )}
        </div>
      </div>
    </div>
  );
}
```

## ×§×™×©×•×¨×™× ×œ×™×©×•×™×•×ª

### ×“×•×’××” - Card ×œ×§×™×©×•×¨:
```jsx
{linkedOrder && (
  <Card className="border-amber-200 bg-gradient-to-br from-white to-amber-50">
    <CardContent className="p-4">
      <div className="flex items-center gap-2 mb-3">
        <FileText className="h-4 w-4 text-amber-600" />
        <h3 className="text-sm font-semibold text-amber-900">
          ×”×–×× ×” ××§×•×©×¨×ª
        </h3>
      </div>
      
      <div className="space-y-2">
        <Label className="text-xs text-amber-700">××¡×¤×¨ ×”×–×× ×”</Label>
        <Link
          to={`/EditOrder?id=${linkedOrder.id}`}
          className="flex items-center gap-1 text-amber-700 hover:underline"
        >
          {linkedOrder.order_number_temp}
          <ExternalLink className="h-3 w-3" />
        </Link>
        <Badge className="bg-amber-100 text-amber-800">
          {linkedOrder.status}
        </Badge>
      </div>
    </CardContent>
  </Card>
)}
```


---

# ğŸ“Š ×ª×‘× ×™×ª: ××¡×š ×¢× ×˜×‘×œ×”

## ××‘× ×” ×›×œ×œ×™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                              â”‚
â”‚  - BackButton                       â”‚
â”‚  - Title                            â”‚
â”‚  - Refresh Button                   â”‚
â”‚  - Primary Action (Add/Export)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Filters Bar                         â”‚
â”‚  - Search Input                     â”‚
â”‚  - Filter Dropdowns                 â”‚
â”‚  - Reset Button                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ResizableTable                      â”‚
â”‚  - Sticky Headers (z-20)            â”‚
â”‚  - Sortable Columns                 â”‚
â”‚  - Resizable Columns                â”‚
â”‚  - Row Actions (Edit/Delete/View)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ×§×•×“ ×œ×“×•×’××”

```jsx
import React, { useState, useEffect } from 'react';
import { base44 } from '@/api/base44Client';
import ResizableTable from '@/components/ui/ResizableTable';
import BackButton from '@/components/ui/BackButton';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';

export default function MyTableScreen() {
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [sortState, setSortState] = useState({ key: 'created_date', direction: 'desc' });

  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    try {
      setLoading(true);
      const response = await base44.functions.invoke('get...Data');
      setData(response.data.items);
    } catch (error) {
      toast.error('×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×');
    } finally {
      setLoading(false);
    }
  };

  const filteredData = data.filter(item =>
    item.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const columns = [
    { key: 'name', label: '×©×', width: 200, sortable: true },
    { key: 'status', label: '×¡×˜×˜×•×¡', width: 120, 
      render: (value) => <Badge>{value}</Badge> },
    { key: 'actions', label: '×¤×¢×•×œ×•×ª', width: 150,
      render: (value, row) => (
        <Button onClick={() => navigate(`/Edit?id=${row.id}`)}>
          ×¢×¨×•×š
        </Button>
      )}
  ];

  return (
    <div className="p-6" dir="rtl">
      <div className="flex items-center justify-between mb-4">
        <BackButton />
        <h1 className="text-2xl font-bold">×›×•×ª×¨×ª</h1>
        <Button onClick={loadData}>×¨×¢× ×Ÿ</Button>
      </div>

      <div className="mb-4">
        <Input
          placeholder="×—×™×¤×•×©..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
      </div>

      <ResizableTable
        columns={columns}
        data={filteredData}
        onSort={handleSort}
        currentSort={sortState}
      />
    </div>
  );
}
```

## ×¢×§×¨×•× ×•×ª ×—×•×‘×”

### Desktop
- âœ… ×˜×‘×œ×” ××œ××”
- âœ… Sticky headers
- âœ… ×’×œ×™×œ×” ××•×¤×§×™×ª
- âœ… ×¢××•×“×•×ª × ×™×ª× ×•×ª ×œ×©×™× ×•×™ ×’×•×“×œ

### Mobile
- âœ… ×›×¨×˜×™×¡×™× ×‘××§×•× ×˜×‘×œ×”
- âœ… ××™×“×¢ ××ª×•××¦×ª
- âœ… Actions ×‘×ª×—×ª×™×ª ×›×¨×˜×™×¡


---



# ğŸ“‚ ×§×˜×œ×•×’ ××¡×›×™×

---

# ğŸ–¥ï¸ ××¡×š: Reports

**×¡×•×’:** reports
**Path:** `pages/Reports.js`

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š Reports

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/Reports.js
```




---

# ğŸ–¥ï¸ ××¡×š: QualityAssurance

**×¡×•×’:** table
**Path:** `pages/QualityAssurance.js`

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š QualityAssurance

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/QualityAssurance.js
```




---

# ğŸ–¥ï¸ ××¡×š: EditReagentBatch

**×¡×•×’:** edit
**Path:** `pages/EditReagentBatch.js`

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š EditReagentBatch

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/EditReagentBatch.js
```




---

# ğŸ–¥ï¸ ××¡×š: BatchAndExpiryManagement

**×¡×•×’:** table
**Path:** `pages/BatchAndExpiryManagement.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š BatchAndExpiryManagement

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/BatchAndExpiryManagement.js
```




---

# ğŸ–¥ï¸ ××¡×š: EditShipment

**×¡×•×’:** edit
**Path:** `pages/EditShipment.js`

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š EditShipment

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/EditShipment.js
```




---

# ğŸ–¥ï¸ ××¡×š: OutgoingShipments

**×¡×•×’:** table
**Path:** `pages/OutgoingShipments.js`

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š OutgoingShipments

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/OutgoingShipments.js
```




---

# ğŸ–¥ï¸ ××¡×š: EditWithdrawalRequest

**×¡×•×’:** edit
**Path:** `pages/EditWithdrawalRequest.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š EditWithdrawalRequest

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/EditWithdrawalRequest.js
```




---

# ğŸ–¥ï¸ ××¡×š: WithdrawalRequests

**×¡×•×’:** table
**Path:** `pages/WithdrawalRequests.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š WithdrawalRequests

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/WithdrawalRequests.js
```




---

# ğŸ–¥ï¸ ××¡×š: EditOrder

**×¡×•×’:** edit
**Path:** `pages/EditOrder.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š EditOrder

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/EditOrder.js
```




---

# ğŸ–¥ï¸ ××¡×š: NewOrder

**×¡×•×’:** form
**Path:** `pages/NewOrder.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š NewOrder

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/NewOrder.js
```




---

# ğŸ–¥ï¸ ××¡×š: Orders

**×¡×•×’:** table
**Path:** `pages/Orders.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š Orders

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

×œ× ××ª×•×¢×“

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/Orders.js
```




---

# ğŸ–¥ï¸ ××¡×š: EditDelivery

**×¡×•×’:** edit
**Path:** `pages/EditDelivery.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

×¦×¤×™×™×” ×•×¢×¨×™×›×ª ××©×œ×•×— - ×¢×™×‘×•×“ ×”××©×œ×•×— ×•×¢×“×›×•×Ÿ ×”××œ××™

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

- getEditDeliveryData()
- updateReagentInventory()

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/EditDelivery.js
```




---

# ğŸ–¥ï¸ ××¡×š: NewDelivery

**×¡×•×’:** form
**Path:** `pages/NewDelivery.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

×§×œ×™×˜×ª ××©×œ×•×— × ×›× ×¡ - ××™×œ×•×™ ×¤×¨×˜×™ ××©×œ×•×— ×•×”×•×¡×¤×ª ×¤×¨×™×˜×™×

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

- getNewDeliveryPageData()

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- Card, Button, Input ×•×›×•'

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/NewDelivery.js
```




---

# ğŸ–¥ï¸ ××¡×š: ManageReagents

**×¡×•×’:** table
**Path:** `pages/ManageReagents.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

× ×™×”×•×œ ××¨×›×–×™ ×©×œ ×›×œ ×”×¨×™××’× ×˜×™× - ×”×•×¡×¤×”, ×¢×¨×™×›×”, ××—×™×§×”, ×”×—×œ×¤×ª ×¡×¤×§

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

- getManageReagentsData()
- deleteReagent()
- changeReagentSupplier()

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- ResizableTable
- ReagentCard
- BackButton

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/ManageReagents.js
```




---

# ğŸ–¥ï¸ ××¡×š: InventoryCount

**×¡×•×’:** table
**Path:** `pages/InventoryCount.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

×‘×™×¦×•×¢ ×¡×¤×™×¨×ª ××œ××™ - ×˜×¢×™× ×ª ××¦×•×•×ª ×§×™×™××•×ª, ×¢×¨×™×›×ª ×›××•×™×•×ª, ×”×©×œ××ª ×¡×¤×™×¨×”

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

- getInventoryCountDraftData()
- processCompletedCount()

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- ResizableTable
- BatchEntry
- BackButton

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/InventoryCount.js
```




---

# ğŸ–¥ï¸ ××¡×š: Dashboard

**×¡×•×’:** dashboard
**Path:** `pages/Dashboard.js`
**âš ï¸ ×§×¨×™×˜×™:** ××¡×š ××¨×›×–×™ ×‘××¢×¨×›×ª

---

## ğŸ¯ ×ª×¤×§×™×“ ×”××¡×š

××¡×š ×”×‘×™×ª - ××¦×™×’ ××¦×‘ ×›×œ×œ×™ ×©×œ ×”××¢×¨×›×ª, ×¤×¢×•×œ×•×ª ×§×¨×™×˜×™×•×ª, ×•×¤×¢×™×œ×•×ª ××—×¨×•× ×”

---

## ğŸ—ï¸ ××‘× ×” ×”××¡×š


### Layout
- Header ×¢× ×›×¤×ª×•×¨×™×
- Filters/Search bar
- Main content area
- Modals ×œ×¤×¢×•×œ×•×ª

### Responsive
- Desktop: ××‘× ×” ××œ×
- Mobile: ××ª×•××¦×ª ×•×›×¨×˜×™×¡×™×


---

## ğŸ”§ ×¤×•× ×§×¦×™×•×ª Backend

- getDashboardData()

---

## ğŸ’¾ State Management


- **React Query** ×œ× ×ª×•× ×™× ××”×©×¨×ª
- **useState** ×œ-UI state ××§×•××™
- **localStorage** ×œ×©××™×¨×ª preferences


---

## ğŸ¨ ×§×•××¤×•× × ×˜×•×ª ××©×•××©×•×ª

- SummaryCard
- CriticalActions
- RecentActivity
- NavGroupAccordion

---

## ğŸ’» ×“×•×’××ª ×§×•×“


```jsx
// ×¨××” ×§×•×“ ×”××¡×š ×”××œ× ×‘-pages/Dashboard.js
```




---



# ğŸ“‚ ×¤×•× ×§×¦×™×•×ª ×©×¨×ª

---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: deleteReagent

## ğŸ“‹ ×ª×™××•×¨

××—×™×§×ª ×¨×™××’× ×˜

**Path:** `functions/deleteReagent.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('deleteReagent', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('deleteReagent', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('deleteReagent', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: deleteWithdrawal

## ğŸ“‹ ×ª×™××•×¨

××—×™×§×ª ×‘×§×©×ª ××©×™×›×”

**Path:** `functions/deleteWithdrawal.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('deleteWithdrawal', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('deleteWithdrawal', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('deleteWithdrawal', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: deleteShipment

## ğŸ“‹ ×ª×™××•×¨

××—×™×§×ª ××©×œ×•×— ×™×•×¦×

**Path:** `functions/deleteShipment.js`

---

## ğŸ“¥ Input Parameters

```javascript
{
  shipmentId: "shipment_abc123",
  reason: "created by mistake",  // ×¡×™×‘×ª ×”××—×™×§×”
  rollbackInventory: true  // ×”×× ×œ×”×—×–×™×¨ ××œ××™
}
```


---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('deleteShipment', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('deleteShipment', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('deleteShipment', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: manageCOA

## ğŸ“‹ ×ª×™××•×¨

× ×™×”×•×œ ×ª×¢×•×“×•×ª ×× ×œ×™×–×”

**Path:** `functions/manageCOA.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('manageCOA', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('manageCOA', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('manageCOA', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: generateReports

## ğŸ“‹ ×ª×™××•×¨

×™×™×¦×•×¨ ×“×•×—×•×ª

**Path:** `functions/generateReports.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('generateReports', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('generateReports', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('generateReports', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: archiveOldData

## ğŸ“‹ ×ª×™××•×¨

××¨×›×•×‘ × ×ª×•× ×™× ×™×©× ×™×

**Path:** `functions/archiveOldData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('archiveOldData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('archiveOldData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('archiveOldData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: alertsManager

## ğŸ“‹ ×ª×™××•×¨

× ×™×”×•×œ ×”×ª×¨××•×ª

**Path:** `functions/alertsManager.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('alertsManager', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('alertsManager', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('alertsManager', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: alertsEngine

## ğŸ“‹ ×ª×™××•×¨

×× ×•×¢ ×”×ª×¨××•×ª

**Path:** `functions/alertsEngine.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('alertsEngine', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('alertsEngine', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('alertsEngine', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: calculateReplenishment

## ğŸ“‹ ×ª×™××•×¨

×—×™×©×•×‘ ×”×©×œ××•×ª ××œ××™

**Path:** `functions/calculateReplenishment.js`

---

## ğŸ“¥ Input Parameters

```javascript
{
  minWeeksOfStock: 4,  // ××™× ×™××•× ×©×‘×•×¢×•×ª ××œ××™
  minQuantity: 5       // ××™× ×™××•× ×›××•×ª ×™×—×™×“×•×ª
}
```


---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('calculateReplenishment', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('calculateReplenishment', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('calculateReplenishment', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getSupplyTrackingData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ××¢×§×‘ ××¡×¤×§×•×ª

**Path:** `functions/getSupplyTrackingData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getSupplyTrackingData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getSupplyTrackingData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getSupplyTrackingData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getEditShipmentData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×¢×¨×™×›×ª ××©×œ×•×— ×™×•×¦×

**Path:** `functions/getEditShipmentData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getEditShipmentData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getEditShipmentData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getEditShipmentData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getOutgoingShipmentsData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ××©×œ×•×—×™× ×™×•×¦××™×

**Path:** `functions/getOutgoingShipmentsData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getOutgoingShipmentsData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getOutgoingShipmentsData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getOutgoingShipmentsData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getEditWithdrawalData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×¢×¨×™×›×ª ××©×™×›×”

**Path:** `functions/getEditWithdrawalData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getEditWithdrawalData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getEditWithdrawalData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getEditWithdrawalData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getWithdrawalRequestsData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×‘×§×©×•×ª ××©×™×›×”

**Path:** `functions/getWithdrawalRequestsData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getWithdrawalRequestsData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getWithdrawalRequestsData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getWithdrawalRequestsData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getEditOrderData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×¢×¨×™×›×ª ×”×–×× ×”

**Path:** `functions/getEditOrderData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getEditOrderData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getEditOrderData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getEditOrderData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getOrdersData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×“×¨×™×©×•×ª ×¨×›×©

**Path:** `functions/getOrdersData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getOrdersData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getOrdersData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getOrdersData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getEditDeliveryData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×¢×¨×™×›×ª ××©×œ×•×—

**Path:** `functions/getEditDeliveryData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getEditDeliveryData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getEditDeliveryData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getEditDeliveryData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getNewDeliveryPageData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×“×£ ××©×œ×•×— ×—×“×©

**Path:** `functions/getNewDeliveryPageData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getNewDeliveryPageData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getNewDeliveryPageData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getNewDeliveryPageData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getBatchAndExpiryData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ××¦×•×•×ª ×•×¤×’×™ ×ª×•×§×£

**Path:** `functions/getBatchAndExpiryData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getBatchAndExpiryData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getBatchAndExpiryData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getBatchAndExpiryData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getManageReagentsData

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ × ×™×”×•×œ ×¨×™××’× ×˜×™×

**Path:** `functions/getManageReagentsData.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getManageReagentsData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getManageReagentsData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getManageReagentsData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: runSummaryUpdates

> âš ï¸ **×¤×•× ×§×¦×™×” ×§×¨×™×˜×™×ª** - ×©×’×™××” ×›××Ÿ ×ª×©×¤×™×¢ ×¢×œ ×›×œ ×”××¢×¨×›×ª!

## ğŸ“‹ ×ª×™××•×¨

×”×¨×¦×ª ×¢×“×›×•× ×™ ×¡×™×›×•× ×›×œ×œ×™×™×

**Path:** `functions/runSummaryUpdates.js`

---

## ğŸ“¥ Input Parameters

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ“¤ Output Response

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('runSummaryUpdates', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('runSummaryUpdates', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)

×ª×œ×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('runSummaryUpdates', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—

- ××™×Ÿ ×”×¢×¨×•×ª ××™×•×—×“×•×ª



---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: updateReagentInventory

> âš ï¸ **×¤×•× ×§×¦×™×” ×§×¨×™×˜×™×ª** - ×©×’×™××” ×›××Ÿ ×ª×©×¤×™×¢ ×¢×œ ×›×œ ×”××¢×¨×›×ª!

## ğŸ“‹ ×ª×™××•×¨

×¢×“×›×•×Ÿ ×¡×™×›×•××™ ××œ××™ ×¨×™××’× ×˜×™×

**Path:** `functions/updateReagentInventory.js`

---

## ğŸ“¥ Input Parameters

```javascript
{
  deliveryId: "delivery_abc123"  // ××–×”×” ×”-Delivery ×œ×¢×™×‘×•×“
}
```

**×—×©×•×‘:** ×”××©×œ×•×— ×—×™×™×‘ ×œ×”×™×•×ª ×‘×¡×˜×˜×•×¡ `processing`


---

## ğŸ“¤ Output Response

```javascript
{
  success: true,
  updatedReagents: 12,
  createdBatches: 8,
  updatedBatches: 4,
  errors: null
}
```


---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª

×¨××” ×§×•×“ ×”×¤×•× ×§×¦×™×”

---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“


### ×ª×”×œ×™×š ××¤×•×¨×˜

**×©×œ×‘ 1: ×•×•×œ×™×“×¦×™×”**
```javascript
const delivery = await base44.entities.Delivery.get(deliveryId);
if (!delivery) return { error: 'Delivery not found' };
if (delivery.status !== 'processing') return { error: 'Invalid status' };
```

**×©×œ×‘ 2: ×˜×¢×™× ×ª ×¤×¨×™×˜×™×**
```javascript
const items = await base44.entities.DeliveryItem.filter({ delivery_id: deliveryId });
```

**×©×œ×‘ 3: ×¢×™×‘×•×“ ×›×œ ×¤×¨×™×˜**
```javascript
for (const item of items) {
  // 3.1: ×©×œ×•×£ ×¨×™××’× ×˜
  const reagent = await base44.entities.Reagent.get(item.reagent_id);
  
  // 3.2: ×‘×“×•×§ ×× ××¦×•×•×” ×§×™×™××ª
  let batch = null;
  if (item.reagent_batch_id) {
    batch = await base44.entities.ReagentBatch.get(item.reagent_batch_id);
  }
  
  // 3.3: ×¢×“×›×Ÿ ××• ×¦×•×¨ ××¦×•×•×”
  if (batch) {
    await base44.entities.ReagentBatch.update(batch.id, {
      current_quantity: batch.current_quantity + item.quantity_received,
      status: 'active'
    });
  } else {
    batch = await base44.entities.ReagentBatch.create({
      reagent_id: item.reagent_id,
      batch_number: item.batch_number,
      expiry_date: item.expiry_date,
      current_quantity: item.quantity_received,
      initial_quantity: item.quantity_received,
      status: 'active'
    });
  }
  
  // 3.4: ×¦×•×¨ ×ª× ×•×¢×ª ××œ××™
  await base44.entities.InventoryTransaction.create({
    reagent_id: item.reagent_id,
    transaction_type: 'delivery',
    quantity: item.quantity_received,
    batch_number: item.batch_number,
    document_number: delivery.delivery_number
  });
  
  // 3.5: ×¢×“×›×Ÿ ×¡×™×›×•× ×¨×™××’× ×˜
  const allBatches = await base44.entities.ReagentBatch.filter({
    reagent_id: reagent.id,
    status: { $in: ['active', 'quarantine'] }
  });
  
  const totalQuantity = allBatches.reduce((sum, b) => sum + b.current_quantity, 0);
  const nearestExpiry = Math.min(...allBatches.map(b => b.expiry_date));
  
  await base44.entities.Reagent.update(reagent.id, {
    total_quantity_all_batches: totalQuantity,
    active_batches_count: allBatches.length,
    nearest_expiry_date: nearestExpiry
  });
}
```

**×©×œ×‘ 4: ×¢×“×›×•×Ÿ ×§×™×©×•×¨×™×**
```javascript
// ×¢×“×›×Ÿ Order
if (delivery.linked_order_id) {
  const order = await base44.entities.Order.get(delivery.linked_order_id);
  await base44.entities.Order.update(order.id, {
    linked_delivery_ids: [...(order.linked_delivery_ids || []), deliveryId]
  });
}

// ×¢×“×›×Ÿ WithdrawalRequests
if (relatedWithdrawalIds.size > 0) {
  for (const wid of relatedWithdrawalIds) {
    const wr = await base44.entities.WithdrawalRequest.get(wid);
    await base44.entities.WithdrawalRequest.update(wid, {
      linked_delivery_ids: [...(wr.linked_delivery_ids || []), deliveryId]
    });
  }
}
```

**×©×œ×‘ 5: ×¡×™×•×**
```javascript
await base44.entities.Delivery.update(deliveryId, {
  status: 'processed'
});
```


---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('updateReagentInventory', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('updateReagentInventory', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)


### Entities Used
- Delivery.get() / update()
- DeliveryItem.filter()
- ReagentBatch.get() / create() / update()
- Reagent.get() / update()
- InventoryTransaction.create()
- Order.get() / update()
- WithdrawalRequest.get() / update()

### Other Functions
- ×œ×œ× ×ª×œ×•×ª ×™×©×™×¨×”


---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('updateReagentInventory', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)


### ××§×¨×™ ×§×¦×”

1. **×¤×¨×™×˜ ×œ×œ× reagent_batch_id**
   - ×™×•×¦×¨ ××¦×•×•×” ×—×“×©×”
   - ××–×™×Ÿ batch_number ×•-expiry_date ××”-DeliveryItem

2. **×›××•×ª ×’×‘×•×”×” ××”×”×–×× ×”**
   - ××¢×‘×“ ×‘×›×œ ××§×¨×”
   - ××ª×¢×“ ×‘-InventoryTransaction
   - ×”××©×ª××© ×›×‘×¨ ××™×©×¨ ×‘-NewDelivery

3. **××©×œ×•×— ×œ×œ× Order ××§×•×©×¨**
   - OK - ×œ× ××¢×“×›×Ÿ Order
   - ×¨×§ ××¢×“×›×Ÿ Reagent + Batch

4. **Order ××§×•×©×¨ ×œ××¡×¤×¨ WithdrawalRequests**
   - ×¢×•×‘×¨ ×¢×œ ×›×œ withdrawal_request_ids
   - ××¢×“×›×Ÿ ×›×œ ××—×“ ×‘-linked_delivery_ids


---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—


- âš ï¸ **×§×¨×™×˜×™:** ×¤×•× ×§×¦×™×” ×–×• ××¢×“×›× ×ª ××œ××™ - ×—×•×‘×” transaction!
- ğŸ”„ **Idempotent:** ×œ× ×œ×”×¨×™×¥ ×¤×¢××™×™× ×¢×œ ××•×ª×• deliveryId
- ğŸ”— **Linking:** ×—×©×•×‘ ×××•×“ ×œ×¢×“×›×Ÿ ××ª ×›×œ ×”×§×™×©×•×¨×™× (Order, WithdrawalRequest)
- ğŸ“ **Audit:** ×›×œ ×©×™× ×•×™ ××ª×•×¢×“ ×‘-InventoryTransaction




---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: processCompletedCount

> âš ï¸ **×¤×•× ×§×¦×™×” ×§×¨×™×˜×™×ª** - ×©×’×™××” ×›××Ÿ ×ª×©×¤×™×¢ ×¢×œ ×›×œ ×”××¢×¨×›×ª!

## ğŸ“‹ ×ª×™××•×¨

×¢×™×‘×•×“ ×¡×¤×™×¨×ª ××œ××™ ××•×©×œ××ª

**Path:** `functions/processCompletedCount.js`

---

## ğŸ“¥ Input Parameters

```javascript
{
  draftId: "draft_abc123"  // ××–×”×” ×”-InventoryCountDraft ×œ×¢×™×‘×•×“
}
```


---

## ğŸ“¤ Output Response

```javascript
{
  success: true,
  count_number: "FC-I-042",
  count_id: "count_xyz",
  reagents_updated: 35
}
```

**×‘××§×¨×” ×©×œ ×©×’×™××”:**
```javascript
{
  success: false,
  error: "Draft not found",
  stack: "..."
}
```


---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª


### ××œ×’×•×¨×™×ª× ×¡×¤×™×¨×ª ××œ××™

```javascript
// 1. ×•×•×œ×™×“×¦×™×”
const draft = await base44.entities.InventoryCountDraft.get(draftId);
if (!draft || draft.completed) throw new Error();

// 2. ×™×¦×™×¨×ª ××¡×¤×¨ ×™×™×—×•×“×™
const lastNum = getLastCountNumber();
const newNumber = `FC-I-${(lastNum + 1).toString().padStart(3, '0')}`;

// 3. ×™×¦×™×¨×ª CompletedInventoryCount
const completedCount = await base44.entities.CompletedInventoryCount.create({
  count_number: newNumber,
  count_date: draft.start_date,
  entries: draft.batch_entries
});

// 4. ×¢×™×‘×•×“ ×›×œ ××¦×•×•×”
for (const [reagentId, batches] of Object.entries(draft.batch_entries)) {
  for (const batchEntry of batches) {
    const { id: batchId, batch_number, quantity } = batchEntry;
    
    if (quantity === 0) {
      // ××¦×•×•×” ××¤×¡ â†’ ×¡××Ÿ ×›× ×¦×¨×›×”
      await base44.entities.ReagentBatch.update(batchId, {
        status: 'consumed',
        current_quantity: 0
      });
      
      // ×ª×¢×“ ×‘×ª× ×•×¢×ª ××œ××™
      await base44.entities.InventoryTransaction.create({
        reagent_id: reagentId,
        transaction_type: 'count_update',
        quantity: -(existingBatch.current_quantity),
        notes: `×¡×¤×™×¨×” ${newNumber} - ××¦×•×•×” × ×¦×¨×›×”`
      });
      
    } else if (batchId) {
      // ××¦×•×•×” ×§×™×™××ª â†’ ×¢×“×›×Ÿ ×›××•×ª
      const diff = quantity - existingBatch.current_quantity;
      await base44.entities.ReagentBatch.update(batchId, {
        current_quantity: quantity
      });
      
      if (diff !== 0) {
        await base44.entities.InventoryTransaction.create({
          reagent_id: reagentId,
          transaction_type: 'count_update',
          quantity: diff
        });
      }
    } else {
      // ××¦×•×•×” ×—×“×©×” â†’ ×¦×•×¨
      await base44.entities.ReagentBatch.create({
        reagent_id: reagentId,
        batch_number: batch_number,
        current_quantity: quantity,
        initial_quantity: quantity,
        status: 'active'
      });
    }
  }
}

// 5. ×¢×“×›×Ÿ ×¡×™×›×•××™×
await base44.functions.invoke('runSummaryUpdates');
```


---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('processCompletedCount', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('processCompletedCount', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)


### Entities Used
- InventoryCountDraft.get()
- CompletedInventoryCount.create()
- ReagentBatch.get() / create() / update()
- Reagent.get() / update()
- InventoryTransaction.create()

### Other Functions
- **runSummaryUpdates()** - × ×§×¨× ×‘×¡×•×£

### Critical Dependencies
âš ï¸ ×ª×œ×•×™ ×‘-runSummaryUpdates ×œ×”×©×œ××ª ×¢×“×›×•×Ÿ ×”×¡×™×›×•××™×


---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('processCompletedCount', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)


### ××§×¨×™ ×§×¦×”

1. **××¦×•×•×” ×¢× ×›××•×ª 0**
   - âœ… ReagentBatch.status = 'consumed'
   - âœ… ReagentBatch.current_quantity = 0
   - âœ… InventoryTransaction ×©×œ×™×œ×™ (×”×¤×—×ª×”)
   - âŒ ×œ× ××•×—×§×™× ××ª ×”××¦×•×•×”!

2. **××¦×•×•×” ×—×“×©×” ×©×œ× ×”×™×ª×” ×‘××¢×¨×›×ª**
   - ×™×•×¦×¨ ReagentBatch ×—×“×©
   - initial_quantity = quantity
   - received_date = ×ª××¨×™×š ×”×¡×¤×™×¨×”

3. **×›××•×ª ×’×‘×•×”×” ×××•×“ (anomaly)**
   - ××¢×‘×“ ×‘×›×œ ××§×¨×”
   - ×¨×•×©× ×‘-InventoryTransaction
   - × ×™×ª×Ÿ ×œ×”×•×¡×™×£ ×”×ª×¨××” ×¢×ª×™×“×™×ª

4. **×¨×™××’× ×˜ ×œ×œ× catalog_item_id**
   - ××©×ª××© ×‘-reagent_id ×›-catalog_item_id
   - ×¦×¨×™×š ×œ×ª×§×Ÿ ×‘×”××©×š


---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—


- âš ï¸ **One-time operation:** ×˜×™×•×˜×” ×™×›×•×œ×” ×œ×”×ª×¢×‘×“ ×¨×§ ×¤×¢× ××—×ª
- ğŸ”¢ **Unique Numbers:** ×—×•×‘×” ×œ×•×•×“× ×™×™×—×•×“×™×•×ª ×©×œ count_number
- ğŸ—‘ï¸ **Zero Handling:** ×˜×™×¤×•×œ ××™×•×—×“ ×‘××¦×•×•×ª ××¤×¡ - ×œ× ×œ××—×•×§!
- â±ï¸ **Background:** runSummaryUpdates ×™×›×•×œ ×œ×§×—×ª ×–××Ÿ - ××œ ×ª×—×›×” ×œ×•




---

# âš™ï¸ ×¤×•× ×§×¦×™×™×ª ×©×¨×ª: getDashboardData

> âš ï¸ **×¤×•× ×§×¦×™×” ×§×¨×™×˜×™×ª** - ×©×’×™××” ×›××Ÿ ×ª×©×¤×™×¢ ×¢×œ ×›×œ ×”××¢×¨×›×ª!

## ğŸ“‹ ×ª×™××•×¨

×˜×¢×™× ×ª × ×ª×•× ×™ ×“×©×‘×•×¨×“

**Path:** `functions/getDashboardData.js`

---

## ğŸ“¥ Input Parameters

**×œ×œ× ×¤×¨××˜×¨×™×**

×”×¤×•× ×§×¦×™×” ××©×ª××©×ª ×‘××•×˜×•××˜×™ ×‘:
- `base44.auth.me()` - × ×ª×•× ×™ ×”××©×ª××© ×”××—×•×‘×¨


---

## ğŸ“¤ Output Response

```javascript
{
  expiringReagents: [
    { id, name, nearest_expiry_date, supplier, total_quantity }
  ],
  lowStockReagents: [
    { id, name, total_quantity, months_of_stock, supplier }
  ],
  pendingOrders: [
    { id, order_number_temp, supplier_name_snapshot, status }
  ],
  pendingSupplies: [
    { id, type, requestDate, withdrawal_number, status }
  ],
  recentActivity: [
    { id, icon, color, description, date }
  ],
  criticalActions: [
    { priority, text, link }
  ],
  statistics: {
    totalReagents, totalOrders, totalWithdrawals
  }
}
```


---

## ğŸ§  ×œ×•×’×™×§×” ××¤×•×¨×˜×ª


### ××œ×’×•×¨×™×ª× ××¨×›×–×™

1. **Fetch All Data in Parallel**
```javascript
const [reagents, orders, withdrawals, ...] = await Promise.allSettled([
  base44.entities.Reagent.list(),
  base44.entities.Order.list(),
  // ...
]);
```

2. **Calculate Expiring Reagents**
```javascript
const now = new Date();
const fourteenDaysAhead = addDays(now, 14);

const expiring = reagents
  .filter(r => {
    const expDate = parseISO(r.nearest_expiry_date);
    return isBefore(expDate, fourteenDaysAhead) && 
           isAfter(expDate, now) &&
           !handledExpiredKeys.has(`${r.id}_${r.nearest_expiry_date}`);
  })
  .sort((a, b) => parseISO(a.nearest_expiry_date) - parseISO(b.nearest_expiry_date));
```

3. **Calculate Low Stock**
```javascript
const lowStock = reagents
  .filter(r => {
    if (r.category !== 'reagents') return false;
    const monthsOfStock = r.total_quantity / (r.average_monthly_usage || 1);
    return monthsOfStock * 4.33 < 4 || r.total_quantity < 5;
  })
  .sort((a, b) => {
    const aMonths = a.total_quantity / (a.average_monthly_usage || 1);
    const bMonths = b.total_quantity / (b.average_monthly_usage || 1);
    return aMonths - bMonths;
  });
```

4. **Generate Critical Actions**
```javascript
const criticalActions = [];

if (expiredToday.length > 0) {
  criticalActions.push({
    priority: 'critical',
    text: `×“×¨×•×© ×˜×™×¤×•×œ ××™×™×“×™ ×‘-${expiredToday.length} ×¨×™××’× ×˜×™×`,
    link: 'BatchAndExpiryManagement'
  });
}
```


---

## ğŸ”„ ×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¦×¢×“ ××—×¨ ×¦×¢×“

×ª×”×œ×™×š ×œ× ××ª×•×¢×“

---

## ğŸ’» ×“×•×’××ª ×§×•×“ ×©×™××•×©


### Frontend Usage

```javascript
import { base44 } from '@/api/base44Client';

// ×§×¨×™××” ×œ×¤×•× ×§×¦×™×”
const response = await base44.functions.invoke('getDashboardData', {
  // parameters here
});

if (response.data.success) {
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
} else {
  toast.error(response.data.error);
}
```

### With React Query

```javascript
const mutation = useMutation({
  mutationFn: (params) => base44.functions.invoke('getDashboardData', params),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['relevant-data'] });
  }
});

// ×©×™××•×©
mutation.mutate({ /* params */ });
```


---

## ğŸ”— ×ª×œ×•×™×•×ª (Dependencies)


### Entities Used
- Reagent.list()
- Order.list()
- WithdrawalRequest.list()
- ExpiredProductLog.list()
- DashboardNote.filter()
- CompletedInventoryCount.list()
- InventoryTransaction.list()
- Delivery.list()

### External Libraries
- date-fns: `differenceInDays`, `addDays`, `parseISO`

### Other Functions
- ×œ×œ× ×ª×œ×•×ª ×‘×¤×•× ×§×¦×™×•×ª ××—×¨×•×ª


---

## âš ï¸ ×©×’×™××•×ª ××¤×©×¨×™×•×ª ×•×˜×™×¤×•×œ


### HTTP Status Codes

| Code | ××©××¢×•×ª | ×“×•×’××” |
|------|--------|-------|
| 200 | Success | ×¤×¢×•×œ×” ×”×•×©×œ××” ×‘×”×¦×œ×—×” |
| 400 | Bad Request | ×¤×¨××˜×¨×™× ×—×¡×¨×™× ××• ×©×’×•×™×™× |
| 401 | Unauthorized | ××©×ª××© ×œ× ××—×•×‘×¨ |
| 403 | Forbidden | ××™×Ÿ ×”×¨×©××•×ª (×œ××©×œ, ×œ× admin) |
| 404 | Not Found | ×”×™×©×•×ª ×”××‘×•×§×©×ª ×œ× ×§×™×™××ª |
| 500 | Server Error | ×©×’×™××” ×¤× ×™××™×ª ×‘×©×¨×ª |

### ×©×’×™××•×ª × ×¤×•×¦×•×ª

```javascript
// ×©×’×™××” 1: ××©×ª××© ×œ× ××—×•×‘×¨
{
  error: "Unauthorized",
  status: 401
}

// ×©×’×™××” 2: × ×ª×•× ×™× ×—×¡×¨×™×
{
  error: "deliveryId is required",
  status: 400
}

// ×©×’×™××” 3: ×¡×˜×˜×•×¡ ×œ× ×ª×§×™×Ÿ
{
  error: "Delivery must be in processing status",
  currentStatus: "processed",
  status: 400
}
```

### Handling ×‘×¦×“ Frontend

```javascript
try {
  const response = await base44.functions.invoke('getDashboardData', params);
  
  if (response.data.error) {
    throw new Error(response.data.error);
  }
  
  // Success
  toast.success('×”×¤×¢×•×œ×” ×”×•×©×œ××”');
  
} catch (error) {
  console.error('Function error:', error);
  toast.error(`×©×’×™××”: ${error.message}`);
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×” (Edge Cases)

××™×Ÿ ××§×¨×™ ×§×¦×” ××ª×•×¢×“×™×

---

## ğŸ” × ×§×•×“×•×ª ×—×©×•×‘×•×ª ×œ××¤×ª×—


- âš ï¸ **×‘×™×¦×•×¢×™×:** ×¨×¥ ×‘×›×œ ×˜×¢×™× ×ª ×“×©×‘×•×¨×“ - ×¦×¨×™×š ×œ×”×™×•×ª ××”×™×¨!
- ğŸ’¡ **Cache:** ×©×§×•×œ ×œ×”×•×¡×™×£ Redis cache ×‘×¢×ª×™×“
- ğŸ” **Monitoring:** ×œ×•×’ ×–×× ×™ ×‘×™×¦×•×¢ ×œ×›×œ ×—×œ×§
- ğŸ“Š **Optimization:** Promise.allSettled ×‘××§×•× Promise.all (×œ× × ×›×©×œ ×× ×™×©×•×ª ××—×ª × ×›×©×œ×ª)




---



# ğŸ“‚ ×ª×”×œ×™×›×™ ×¢×‘×•×“×”

---

# ğŸ”„ ×ª×”×œ×™×š ××©×œ×•×— ×™×•×¦×

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ×™×¦×™×¨×ª ×•×©×œ×™×—×ª ××©×œ×•×— ×™×•×¦×

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×

××˜×¨×” ×œ× ××ª×•×¢×“×ª

---

## ğŸ“Š Flow Diagram

×ª×¨×©×™× ×œ× ×–××™×Ÿ

---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª

×™×©×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª

×¤×•× ×§×¦×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)

UI ×œ× ××ª×•×¢×“

---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---

# ğŸ”„ ×ª×”×œ×™×š × ×™×”×•×œ ×¤×’×™ ×ª×•×§×£

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ×–×™×”×•×™ ×•×˜×™×¤×•×œ ×‘×¤×¨×™×˜×™× ×¤×’×™ ×ª×•×§×£

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×

××˜×¨×” ×œ× ××ª×•×¢×“×ª

---

## ğŸ“Š Flow Diagram

×ª×¨×©×™× ×œ× ×–××™×Ÿ

---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª

×™×©×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª

×¤×•× ×§×¦×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)

UI ×œ× ××ª×•×¢×“

---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---

# ğŸ”„ ×ª×”×œ×™×š ×‘×§×©×ª ××©×™×›×” ×××¡×’×¨×ª

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ×™×¦×™×¨×ª ×•××™×©×•×¨ ×‘×§×©×ª ××©×™×›×” ××”×–×× ×ª ××¡×’×¨×ª

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×


**××˜×¨×” ×¨××©×™×ª:** ×œ××©×•×š ×¤×¨×™×˜×™× ××”×–×× ×ª ××¡×’×¨×ª ×¤×¢×™×œ×” ×œ×œ× ×¦×•×¨×š ×‘×™×¦×™×¨×ª ×”×–×× ×” ×—×“×©×”.

**×™×¢×“×™×:**
- âœ… × ×™×¦×•×œ ×”×–×× ×•×ª ××¡×’×¨×ª ×™×¢×™×œ
- âœ… ××¢×§×‘ ××—×¨ ×™×ª×¨×•×ª ×‘×”×–×× ×•×ª ××¡×’×¨×ª
- âœ… ×ª×”×œ×™×š ××™×©×•×¨ ××•×‘× ×”
- âœ… ×§×™×©×•×¨ ××•×˜×•××˜×™ ×œ××©×œ×•×—×™× ×©××’×™×¢×™×


---

## ğŸ“Š Flow Diagram

×ª×¨×©×™× ×œ× ×–××™×Ÿ

---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª

×™×©×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª

×¤×•× ×§×¦×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)

UI ×œ× ××ª×•×¢×“

---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---

# ğŸ”„ ×ª×”×œ×™×š ×™×¦×™×¨×ª ×“×¨×™×©×ª ×¨×›×©

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ×™×¦×™×¨×ª ×“×¨×™×©×ª ×¨×›×© ×•×”××¢×§×‘ ××—×¨×™×”

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×

××˜×¨×” ×œ× ××ª×•×¢×“×ª

---

## ğŸ“Š Flow Diagram

×ª×¨×©×™× ×œ× ×–××™×Ÿ

---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª

×™×©×•×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª

×¤×•× ×§×¦×™×•×ª ×œ× ××ª×•×¢×“×•×ª

---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)

UI ×œ× ××ª×•×¢×“

---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---

# ğŸ”„ ×ª×”×œ×™×š ×¡×¤×™×¨×ª ××œ××™

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ×‘×™×¦×•×¢ ×¡×¤×™×¨×ª ××œ××™ ××ª×—×™×œ×” ×œ×¡×•×£

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×


**××˜×¨×” ×¨××©×™×ª:** ×œ×‘×¦×¢ ×¡×¤×™×¨×ª ××œ××™ ×¤×™×–×™×ª ×•×œ×¢×“×›×Ÿ ××ª ×”××¢×¨×›×ª ×‘×”×ª×× ×œ××¦×™××•×ª ×‘×©×˜×—.

**×™×¢×“×™× ××©× ×™×™×:**
- âœ… ×–×™×”×•×™ ×”×¤×¨×©×™× ×‘×™×Ÿ ×”××¢×¨×›×ª ×œ××¦×™××•×ª
- âœ… ×˜×™×¤×•×œ ×‘××¦×•×•×ª ×©× ×¦×¨×›×• ×œ×’××¨×™ (×›××•×ª 0)
- âœ… ×–×™×”×•×™ ××¦×•×•×ª ×—×“×©×•×ª ×©×œ× ×ª×•×¢×“×•
- âœ… ×™×¦×™×¨×ª ×ª×™×¢×•×“ ××œ× ×œ×‘×™×§×•×¨×ª


---

## ğŸ“Š Flow Diagram

×ª×¨×©×™× ×œ× ×–××™×Ÿ

---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª


- **InventoryCountDraft** - ×”×˜×™×•×˜×” ×‘×–××Ÿ ×”×¡×¤×™×¨×”
- **CompletedInventoryCount** - ×”×¡×¤×™×¨×” ×”××•×©×œ××ª
- **ReagentBatch** - ×›×œ ××¦×•×•×” ×©× ×¡×¤×¨×”
- **Reagent** - ×¡×™×›×•××™× ××ª×¢×“×›× ×™×
- **InventoryTransaction** - ×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™


---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª


1. **getInventoryCountDraftData**
   - ×˜×•×¢×Ÿ ×¨×™××’× ×˜×™× ×•××¦×•×•×ª ×œ×¡×¤×™×¨×”
   
2. **processCompletedCount** (×§×¨×™×˜×™!)
   - ××¢×‘×“ ×¡×¤×™×¨×”
   - ××¢×“×›×Ÿ ××¦×•×•×ª
   
3. **runSummaryUpdates**
   - ××¢×“×›×Ÿ ×¡×™×›×•××™ ×¨×™××’× ×˜×™×


---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)

UI ×œ× ××ª×•×¢×“

---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---

# ğŸ”„ ×ª×”×œ×™×š ×§×œ×™×˜×ª ××©×œ×•×—

## ğŸ“‹ ×ª×™××•×¨

×ª×”×œ×™×š ××œ× ×©×œ ×§×œ×™×˜×ª ××©×œ×•×— × ×›× ×¡ ×¢×“ ×œ×¢×“×›×•×Ÿ ×”××œ××™

---

## ğŸ¯ ××˜×¨×” ×•×™×¢×“×™×


**××˜×¨×” ×¨××©×™×ª:** ×œ×§×œ×•×˜ ××©×œ×•×— × ×›× ×¡ ××”×¡×¤×§, ×œ×¢×“×›×Ÿ ××ª ×”××œ××™ ×‘×¦×•×¨×” ××“×•×™×§×ª, ×•×œ×™×¦×•×¨ ×ª×™×¢×•×“ ××œ×.

**×™×¢×“×™× ××©× ×™×™×:**
- âœ… ×§×™×©×•×¨ ×”××©×œ×•×— ×œ×”×–×× ×” ××§×•×¨×™×ª (×× ×§×™×™××ª)
- âœ… ×¢×“×›×•×Ÿ ××¦×•×•×ª ×§×™×™××•×ª ××• ×™×¦×™×¨×ª ××¦×•×•×ª ×—×“×©×•×ª
- âœ… ×¨×™×©×•× ××œ× ×©×œ ×›×œ ×”×ª× ×•×¢×•×ª ×‘-InventoryTransaction
- âœ… ×¢×“×›×•×Ÿ ××•×˜×•××˜×™ ×©×œ ×›×œ ×”×§×™×©×•×¨×™× (Order â†” Delivery â†” WithdrawalRequest)


---

## ğŸ“Š Flow Diagram


```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NewDelivery  â”‚ â† ××©×ª××© ×××œ× ×˜×•×¤×¡
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST Delivery + DeliveryItem[]
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database       â”‚ Delivery (status: open)
â”‚                  â”‚ DeliveryItem Ã— N
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Navigate to EditDelivery?id=...
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EditDelivery    â”‚ â† ××©×ª××© ×¨×•××” ×¤×¨×˜×™×
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Click "×¢×‘×“ ××©×œ×•×—"
       â”‚ invoke('updateReagentInventory')
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  updateReagentInventory   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ For each item:      â”‚  â”‚
â”‚  â”‚ - Update Batch      â”‚  â”‚
â”‚  â”‚ - Update Reagent    â”‚  â”‚
â”‚  â”‚ - Create Transactionâ”‚  â”‚
â”‚  â”‚ - Link Order        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Multiple UPDATEs + CREATEs
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Database          â”‚
â”‚  - ReagentBatch +50   â”‚
â”‚  - Reagent total +50  â”‚
â”‚  - Transaction logged â”‚
â”‚  - Order linked       â”‚
â”‚  - Delivery processed â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”‚ Response
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EditDelivery    â”‚ â† "×¢×•×‘×“ ×‘×”×¦×œ×—×”" + ×¨×¢× ×•×Ÿ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## ğŸ”— ×™×©×•×™×•×ª ××¢×•×¨×‘×•×ª


- **Delivery** - ×ª×¢×•×“×ª ×”××©×œ×•×— ×”×¨××©×™×ª
- **DeliveryItem** - ×¤×¨×™×˜×™× ×‘×•×“×“×™× ×‘××©×œ×•×—
- **ReagentBatch** - ××¦×•×•×ª ×©× ×•×¦×¨×•/×¢×•×“×›× ×•
- **Reagent** - ×¨×™××’× ×˜×™× ×©×”××œ××™ ×©×œ×”× ×¢×•×“×›×Ÿ
- **InventoryTransaction** - ×ª×™×¢×•×“ ×›×œ ×ª× ×•×¢×”
- **Order** (××•×¤×¦×™×•× ×œ×™) - ×”×–×× ×” ××§×•×¨×™×ª
- **WithdrawalRequest** (××•×¤×¦×™×•× ×œ×™) - ×‘×§×©×•×ª ××©×™×›×” ×§×©×•×¨×•×ª


---

## âš™ï¸ ×¤×•× ×§×¦×™×•×ª Backend ××¢×•×¨×‘×•×ª


1. **getNewDeliveryPageData**
   - ×˜×•×¢×Ÿ ×¨×™××’× ×˜×™×, ×¡×¤×§×™×, ×”×–×× ×•×ª ×¤×ª×•×—×•×ª
   
2. **updateReagentInventory** (×§×¨×™×˜×™!)
   - ××¢×‘×“ ××ª ×”××©×œ×•×—
   - ××¢×“×›×Ÿ ××œ××™
   
3. **getEditDeliveryData**
   - ×˜×•×¢×Ÿ ××©×œ×•×— ×¢× ×›×œ ×”×§×™×©×•×¨×™×


---

## ğŸ¨ ×××©×§ ××©×ª××© (UI)


### NewDelivery Screen
- ×˜×•×¤×¡ ××¨×›×–×™ ×¢× ×©×œ×‘×™×
- ×‘×—×™×¨×ª ×¡×¤×§ (Select)
- ××•×¤×¦×™×” ×œ×§×©×¨ ×œ×”×–×× ×” ×§×™×™××ª
- ×˜×‘×œ×” ×“×™× ××™×ª ×œ×”×•×¡×¤×ª ×¤×¨×™×˜×™×
- ×›×¤×ª×•×¨ "×©××•×¨" â†’ ×™×•×¦×¨ Delivery

### EditDelivery Screen
- ×ª×¦×•×’×ª ×¤×¨×˜×™ ×”××©×œ×•×—
- ×›×¨×˜×™×¡×™× ×œ×™×©×•×™×•×ª ××§×•×©×¨×•×ª
- ×›×¤×ª×•×¨ "×¢×‘×“ ××©×œ×•×—" (×¦×”×•×‘, ×‘×•×œ×˜)
- ×œ××—×¨ ×¢×™×‘×•×“ â†’ ×›×¤×ª×•×¨×™× ×œ×”×“×¤×¡×”/×¡×’×™×¨×”


---

## ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× (Data Flow)


```
Frontend State â†’ API Call â†’ Backend Logic â†’ Database â†’ Response â†’ Frontend Update
```

×¨××” ×ª×¨×©×™× Flow Diagram ×œ××¢×œ×” ×œ×¤×™×¨×•×˜ ××œ×.


---

## âš ï¸ ×˜×™×¤×•×œ ×‘×©×’×™××•×ª


### ×¢×§×¨×•× ×•×ª

1. **Validation ×‘×¦×“ ×œ×§×•×—**
   - ×‘×“×™×§×ª ×©×“×•×ª ×—×•×‘×”
   - ×¤×•×¨××˜ ×ª×§×™×Ÿ
   - ×˜×•×•×—×™× ×”×’×™×•× ×™×™×

2. **Validation ×‘×¦×“ ×©×¨×ª**
   - ×‘×“×™×§×” ×—×•×–×¨×ª ×©×œ ×›×œ ×”×§×œ×˜
   - ×‘×“×™×§×ª ×”×¨×©××•×ª
   - ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”×¤× ×™×•×ª (IDs)

3. **Error Messages**
   - ×‘×¨×•×¨×™× ×•××¤×•×¨×˜×™×
   - ×‘×¢×‘×¨×™×ª
   - ×›×•×œ×œ×™× ×”×¦×¢×” ×œ×¤×ª×¨×•×Ÿ

4. **Logging**
   - ×›×œ ×©×’×™××” ××ª×•×¢×“×ª ×‘-console
   - ×›×•×œ×œ stack trace
   - timestamp ××“×•×™×§

### ×“×•×’××”
```javascript
try {
  // ×¤×¢×•×œ×”
} catch (error) {
  console.error('[FunctionName] Error:', error);
  return Response.json({ 
    success: false, 
    error: error.message,
    details: '×¤×¨×˜×™× × ×•×¡×¤×™× ×›××Ÿ'
  }, { status: 500 });
}
```


---

## ğŸ§ª ××§×¨×™ ×§×¦×”


- **×ª×§×œ×ª ×ª×§×©×•×¨×ª:** retry logic
- **× ×ª×•× ×™× ×—×œ×§×™×™×:** ×”×¦×’ ××” ×©×™×© + ×”×•×“×¢×”
- **concurrent updates:** optimistic locking
- **×’×“×•×œ ××“×™:** pagination ×‘×©×¨×ª


---

## ğŸ” × ×§×•×“×•×ª ×‘×™×™×©×•×


### × ×§×•×“×•×ª ×œ×ª×©×•××ª ×œ×‘

1. âœ… **×˜×¡×˜ ×œ×¤× ×™ ×¤×¨×•×“×§×©×Ÿ**
2. âœ… **×ª×™×¢×•×“ ×›×œ ×©×™× ×•×™**
3. âœ… **×©××•×¨ backward compatibility**
4. âœ… **×”×•×¡×£ migration scripts**




---



# ğŸ“‚ ×ª×™×¢×•×“ ×˜×›× ×™

---

# ğŸ”„ × ×™×”×•×œ State ×•-Caching

## React Query - ×”×¡×¤×¨×™×™×” ×”××¨×›×–×™×ª

### ×”×’×“×¨×” ×‘×¡×™×¡×™×ª
```javascript
import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';

// Query - ×œ×˜×¢×™× ×ª × ×ª×•× ×™×
const { data, isLoading, error } = useQuery({
  queryKey: ['reagents'],
  queryFn: () => base44.entities.Reagent.list(),
  staleTime: 5 * 60 * 1000, // 5 minutes
  cacheTime: 30 * 60 * 1000 // 30 minutes
});

// Mutation - ×œ×¢×“×›×•×Ÿ × ×ª×•× ×™×
const mutation = useMutation({
  mutationFn: (newReagent) => base44.entities.Reagent.create(newReagent),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['reagents'] });
  }
});
```

## Cache Strategy

### Query Keys Convention
```javascript
['reagents']                    // ×›×œ ×”×¨×™××’× ×˜×™×
['reagent', id]                 // ×¨×™××’× ×˜ ×¡×¤×¦×™×¤×™
['dashboard']                   // × ×ª×•× ×™ ×“×©×‘×•×¨×“
['delivery', id]                // ××©×œ×•×— ×¡×¤×¦×™×¤×™
['orders', { status: 'pending' }] // ×”×–×× ×•×ª ××¡×•× × ×•×ª
```

### Invalidation Rules
```javascript
// ×œ××—×¨ ×™×¦×™×¨×ª ××©×œ×•×—
queryClient.invalidateQueries({ queryKey: ['deliveries'] });
queryClient.invalidateQueries({ queryKey: ['reagents'] }); // ×›×™ ×”××œ××™ ×”×©×ª× ×”

// ×œ××—×¨ ×¡×¤×™×¨×ª ××œ××™
queryClient.invalidateQueries(); // invalidate ×”×›×œ!
```

## Local State

### useState for UI State
```javascript
const [isEditing, setIsEditing] = useState(false);
const [selectedItems, setSelectedItems] = useState([]);
const [filters, setFilters] = useState({ status: 'all' });
```

### localStorage for Persistence
```javascript
// ×©××™×¨×ª ×¢××•×“×•×ª × ×¨××•×ª
const [visibleColumns, setVisibleColumns] = useState(() => {
  const saved = localStorage.getItem('tableColumns');
  return saved ? JSON.parse(saved) : defaultColumns;
});

useEffect(() => {
  localStorage.setItem('tableColumns', JSON.stringify(visibleColumns));
}, [visibleColumns]);
```

## Optimistic Updates

```javascript
const mutation = useMutation({
  mutationFn: updateReagent,
  onMutate: async (newData) => {
    // Cancel outgoing queries
    await queryClient.cancelQueries({ queryKey: ['reagent', id] });
    
    // Snapshot previous value
    const previous = queryClient.getQueryData(['reagent', id]);
    
    // Optimistically update
    queryClient.setQueryData(['reagent', id], newData);
    
    return { previous };
  },
  onError: (err, newData, context) => {
    // Rollback on error
    queryClient.setQueryData(['reagent', id], context.previous);
  }
});
```


---

# ğŸ’¾ ×–×¨×™××ª × ×ª×•× ×™× ×‘××¢×¨×›×ª

## ×ª×¨×©×™× ×–×¨×™××” ×›×œ×œ×™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User    â”‚
â”‚  Action  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend      â”‚
â”‚  (React)       â”‚
â”‚  - Validation  â”‚
â”‚  - UI State    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ base44.functions.invoke()
     â”‚ ××• base44.entities.*
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend Function  â”‚
â”‚  (Deno)            â”‚
â”‚  - Auth Check      â”‚
â”‚  - Business Logic  â”‚
â”‚  - Data Transform  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ SQL Queries
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database    â”‚
â”‚  (Postgres)  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ Response
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend      â”‚
â”‚  - Display     â”‚
â”‚  - Update UI   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ×“×•×’××”: ×§×œ×™×˜×ª ××©×œ×•×—

### Step-by-Step Data Flow

```
1. USER: ×××œ× ×˜×•×¤×¡ NewDelivery
   â””â†’ State: { supplier, delivery_date, items: [] }

2. FRONTEND: ×œ×—×™×¦×” ×¢×œ "×©××•×¨"
   â””â†’ base44.entities.Delivery.create(deliveryData)
   â””â†’ base44.entities.DeliveryItem.bulkCreate(items)

3. DATABASE: ×¨×©×•××•×ª × ×•×¦×¨×•×ª
   â””â†’ Delivery (id: "abc123", status: "open")
   â””â†’ DeliveryItem Ã— N (delivery_id: "abc123")

4. FRONTEND: × ×™×•×•×˜ ×œ-EditDelivery?id=abc123
   â””â†’ base44.functions.invoke('getEditDeliveryData', { id })

5. BACKEND: getEditDeliveryData
   â””â†’ SELECT * FROM Delivery WHERE id = ?
   â””â†’ SELECT * FROM DeliveryItem WHERE delivery_id = ?
   â””â†’ SELECT * FROM Order WHERE id = delivery.linked_order_id
   â””â†’ Return { delivery, items, linkedOrder }

6. USER: ×œ×—×™×¦×” ×¢×œ "×¢×‘×“ ××©×œ×•×—"
   â””â†’ base44.functions.invoke('updateReagentInventory', { deliveryId })

7. BACKEND: updateReagentInventory
   â””â†’ For each DeliveryItem:
       â”œâ†’ UPDATE/CREATE ReagentBatch
       â”œâ†’ UPDATE Reagent.total_quantity
       â”œâ†’ CREATE InventoryTransaction
       â””â†’ UPDATE Order.linked_delivery_ids

8. DATABASE: ×¢×“×›×•× ×™× ××¨×•×‘×™×
   â””â†’ ReagentBatch.current_quantity += quantity
   â””â†’ Reagent.total_quantity_all_batches recalculated
   â””â†’ InventoryTransaction created

9. FRONTEND: ×”×•×“×¢×ª ×”×¦×œ×—×” + ×¨×¢× ×•×Ÿ × ×ª×•× ×™×
```

## State Management ×¢× React Query

```javascript
// Query for fetching data
const { data, isLoading } = useQuery({
  queryKey: ['delivery', deliveryId],
  queryFn: () => base44.functions.invoke('getEditDeliveryData', { id: deliveryId })
});

// Mutation for updating
const mutation = useMutation({
  mutationFn: (data) => base44.entities.Delivery.update(id, data),
  onSuccess: () => {
    queryClient.invalidateQueries({ queryKey: ['delivery'] });
    toast.success('×¢×•×“×›×Ÿ ×‘×”×¦×œ×—×”');
  }
});
```


---

# ğŸ—ï¸ ×¡×§×™×¨×ª ××¨×›×™×˜×§×˜×•×¨×” - Flow Control

## Stack ×˜×›× ×•×œ×•×’×™

### Frontend
- **Framework:** React 18.2
- **Build Tool:** Vite
- **Styling:** Tailwind CSS 3.x
- **UI Library:** Shadcn/ui
- **State:** React Query (TanStack Query)
- **Router:** React Router DOM v6
- **Forms:** React Hook Form
- **Icons:** Lucide React
- **Charts:** Recharts
- **Dates:** date-fns

### Backend
- **Runtime:** Deno 1.x
- **Platform:** Base44 (BaaS)
- **Database:** PostgreSQL (managed)
- **Auth:** Base44 Auth Service (JWT)
- **Functions:** Deno Deploy Handlers
- **File Storage:** Base44 Storage

## ××¨×›×™×˜×§×˜×•×¨×ª ×”××¢×¨×›×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React SPA)            â”‚
â”‚  - Pages (××¡×›×™×)                        â”‚
â”‚  - Components (×¨×›×™×‘×™×)                  â”‚
â”‚  - Layout (×ª×‘× ×™×ª ×¨××©×™×ª)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ HTTP/REST
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Base44 SDK (@base44/sdk)          â”‚
â”‚  - entities.* (CRUD)                    â”‚
â”‚  - functions.invoke()                   â”‚
â”‚  - auth.me()                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Backend Functions (Deno)           â”‚
â”‚  - Business Logic                       â”‚
â”‚  - Data Aggregation                     â”‚
â”‚  - Complex Calculations                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PostgreSQL Database                â”‚
â”‚  - Entities (Tables)                    â”‚
â”‚  - Relations                            â”‚
â”‚  - Indexes                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ×’×™×©×ª Backend-Heavy

### ×¢×§×¨×•×Ÿ ×‘×¡×™×¡×™
**×›×œ ×”×œ×•×’×™×§×” ×”××•×¨×›×‘×ª ×‘×©×¨×ª, Frontend ×¨×§ ××¦×™×’**

### ×™×ª×¨×•× ×•×ª
1. âœ… ×‘×™×¦×•×¢×™× ××¢×•×œ×™× (×‘××™×•×—×“ mobile)
2. âœ… ×× ×™×¢×ª rate limits
3. âœ… ×§×•×“ ×¤×©×•×˜ ×™×•×ª×¨ ×‘-Frontend
4. âœ… ×§×œ ×™×•×ª×¨ ×œ×ª×—×–×•×§×”
5. âœ… ××‘×˜×—×” ×˜×•×‘×” ×™×•×ª×¨

### ×“×•×’××”
```javascript
// âŒ ×œ× ×˜×•×‘ - ×”×¨×‘×” ×§×¨×™××•×ª
const reagents = await base44.entities.Reagent.list();
const batches = await base44.entities.ReagentBatch.list();
const orders = await base44.entities.Order.list();
// ... ×¢×™×‘×•×“×™× ××•×¨×›×‘×™× ×‘×¦×“ ×œ×§×•×—

// âœ… ×˜×•×‘ - ×§×¨×™××” ××—×ª
const response = await base44.functions.invoke('getDashboardData');
// ×”×›×œ ××¢×•×‘×“ ×•××•×›×Ÿ ×œ×”×¦×’×”
```

## Security Architecture

### Authentication Flow
```
1. User Login â†’ Base44 Auth
2. JWT Token issued
3. Token stored in browser
4. Every request includes token
5. Backend validates with base44.auth.me()
```

### Authorization Levels
- **User:** CRUD on own data
- **Admin:** Full access + system management
- **Service Role:** Backend functions with elevated permissions

### Security Features
- Device fingerprinting
- Security level per user
- Audit logging
- Soft deletes (is_deleted flag)


---

